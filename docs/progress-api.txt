# Progress Service API Documentation

## Base URL
http://localhost:3003/api/v1

## API Endpoints

### 1. Lấy Tiến Trình Học Tập (Get Initial Progress)

**Endpoint:** GET /progress/:enrollmentId
**Path đầy đủ:** http://localhost:3003/api/v1/progress/:enrollmentId
**Mô tả:** Lấy thông tin tiến trình học tập của một enrollment cụ thể.
**Khi nào gọi:** Khi cần hiển thị tiến độ học tập của người dùng trong một khóa học.

**Path Parameters:**
- enrollmentId: ID của enrollment

**Response:**
{
  "enrollmentId": "uuid",
  "progress": 75,
  "currentLesson": "LESSON-123",
  "lessonId": "LESSON-123",
  "isLessonCompleted": true,
  "lastUpdated": "2023-06-15T10:30:00.000Z"
}

**Status Codes:**
- 200: Thành công
- 404: Không tìm thấy enrollment

### 2. Cập Nhật Tiến Trình (Update Progress)

**Endpoint:** PUT /progress/:enrollmentId
**Path đầy đủ:** http://localhost:3003/api/v1/progress/:enrollmentId
**Mô tả:** Cập nhật tiến trình học tập của một enrollment.
**Khi nào gọi:** Khi người dùng hoàn thành một bài học hoặc một phần của khóa học.

**Path Parameters:**
- enrollmentId: ID của enrollment

**Request Body:**
{
  "progress": 75,
  "currentLesson": "LESSON-123",
  "lessonId": "LESSON-123",
  "isLessonCompleted": true
}

**Response:**
{
  "enrollmentId": "uuid",
  "progress": 75,
  "currentLesson": "LESSON-123",
  "lessonId": "LESSON-123",
  "isLessonCompleted": true,
  "lastUpdated": "2023-06-15T10:30:00.000Z"
}

**Status Codes:**
- 200: Thành công
- 404: Không tìm thấy enrollment
- 400: Dữ liệu không hợp lệ

### 3. Lấy Tổng Quan Tiến Trình (Get Overall Progress)

**Endpoint:** GET /progress/overall/:enrollmentId
**Path đầy đủ:** http://localhost:3003/api/v1/progress/overall/:enrollmentId
**Mô tả:** Lấy thông tin tổng quan về tiến trình học tập.
**Khi nào gọi:** Khi cần hiển thị tổng quan về tiến độ học tập và trạng thái của khóa học.

**Path Parameters:**
- enrollmentId: ID của enrollment

**Response:**
{
  "overallProgress": 75,
  "completed": false,
  "status": "ACTIVE"
}

**Status Codes:**
- 200: Thành công
- 404: Không tìm thấy enrollment

### 4. Kiểm Tra Hoàn Thành Khóa Học (Verify Course Completion)

**Endpoint:** GET /progress/completion/:enrollmentId
**Path đầy đủ:** http://localhost:3003/api/v1/progress/completion/:enrollmentId
**Mô tả:** Kiểm tra xem một khóa học đã được hoàn thành chưa.
**Khi nào gọi:** Khi cần xác định liệu người dùng đã hoàn thành khóa học để cấp chứng chỉ.

**Path Parameters:**
- enrollmentId: ID của enrollment

**Response:**
{
  "completed": true
}

**Status Codes:**
- 200: Thành công
- 404: Không tìm thấy enrollment

## Models

### Progress

| Field | Type | Description |
|-------|------|-------------|
| enrollmentId | UUID | ID của enrollment |
| progress | Number | Phần trăm hoàn thành (0-100) |
| currentLesson | String | ID của bài học hiện tại |
| lessonId | String | ID của bài học đang được cập nhật |
| isLessonCompleted | Boolean | Trạng thái hoàn thành của bài học |
| lastUpdated | DateTime | Thời gian cập nhật gần nhất |

## Examples

### Lấy Tiến Trình Học Tập

**Request:**
```http
GET /api/v1/progress/123e4567-e89b-12d3-a456-426614174000
```

**Response:**
```json
{
  "enrollmentId": "123e4567-e89b-12d3-a456-426614174000",
  "progress": 75,
  "currentLesson": "LESSON-123",
  "lessonId": "LESSON-123",
  "isLessonCompleted": true,
  "lastUpdated": "2023-06-15T10:30:00.000Z"
}
```

### Cập Nhật Tiến Trình

**Request:**
```http
PUT /api/v1/progress/123e4567-e89b-12d3-a456-426614174000
Content-Type: application/json

{
  "progress": 80,
  "currentLesson": "LESSON-124",
  "lessonId": "LESSON-123",
  "isLessonCompleted": true
}
```

**Response:**
```json
{
  "enrollmentId": "123e4567-e89b-12d3-a456-426614174000",
  "progress": 80,
  "currentLesson": "LESSON-124",
  "lessonId": "LESSON-123",
  "isLessonCompleted": true,
  "lastUpdated": "2023-06-15T11:45:00.000Z"
}
```

### Lấy Tổng Quan Tiến Trình

**Request:**
```http
GET /api/v1/progress/overall/123e4567-e89b-12d3-a456-426614174000
```

**Response:**
```json
{
  "overallProgress": 80,
  "completed": false,
  "status": "ACTIVE"
}
```

### Kiểm Tra Hoàn Thành Khóa Học

**Request:**
```http
GET /api/v1/progress/completion/123e4567-e89b-12d3-a456-426614174000
```

**Response:**
```json
{
  "completed": false
}
```
