// schema.prisma
model Enrollment {
  id          String           @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  createdAt   DateTime         @default(now()) @db.Timestamp(6)
  updatedAt   DateTime         @db.Timestamp(6)
  courseId    String           @db.VarChar
  userId      String           @db.VarChar
  courseName  String?         @db.VarChar  // Thêm tên khóa học
  userName    String?         @db.VarChar  // Thêm tên user
  status      EnrollmentStatus @default(PENDING)
  completedAt DateTime?        @db.Timestamp(6)
  isFree      Boolean          @default(false)
  Payment     Payment?

  @@unique([userId, courseId])
}